import{c as me}from"./index.926ca9c5.js";import{_ as fe,$ as pe,c as b,j as t,d as R,a as h,F as v,b as B,t as Se,B as T,a0 as te,r as u,a1 as O,v as j,o as _,p as K,a2 as Te,a3 as be,a4 as H,N as k,O as $,a5 as ae,a6 as se,a7 as E,a8 as ve,a9 as Ce,aa as xe,R as P,ab as ye,m as I,ac as ne,ad as U,ae as M,af as C,ag as oe,ah as z,ai as Re,aj as ke,ak as Ie,g as L,T as N,al as De,am as Y,an as q,ao as $e,ap as Pe,aq as Ee,ar as Be,Q as Me,as as Le,at as we,au as J,av as Ne,E as Oe,I as re,aw as Ae,ax as X,ay as Fe,az as le,u as We,aA as ie,aB as ze,aC as ce,aD as He,aE as de,aF as V,aG as Ge,aH as _e,aI as je,aJ as Ke,aK as Ue,aL as qe,aM as Ve,aN as ge,aO as Qe,aP as Ye,aQ as Je,aR as Xe,x as Ze,y as et,M as tt,aS as at,aT as st,aU as nt,aV as ot,aW as rt,aX as lt,aY as it}from"./index.5f659e0f.js";import{S as ct,R as ue}from"./ResourceItem.b09bd6e7.js";import{t as dt}from"./index.m.a9ba3723.js";import{M as gt}from"./MySidebar.fc723cf4.js";import{d as ut}from"./Edit.aa6ffe9d.js";import"./ResourceMoreIcon.859fe371.js";import"./ResourceThumbnail.11ac4099.js";import"./colors.f3739cc4.js";const G=fe(pe((e,a)=>({selectedResourceIds:[],setSelectedResourceIds:d=>e({selectedResourceIds:d})})));G.getState();const A=()=>{const{selectedResourceIds:e,setSelectedResourceIds:a}=G();return{onCtrlClick:s=>{const l=[...e];e.includes(s)?a(l.filter(i=>i!==s)):a([...l,s])},onShiftClick:(s,l)=>{if(e.length===0){a([l]);return}if(e.length===1&&e[0]===l){a([]);return}if(e.includes(l)){a([l]);return}const i=s.findIndex(f=>e.includes(f)),o=[...s].reverse().find(f=>e.includes(f)),r=[...s].findIndex(f=>f===o),m=[...s].findIndex(f=>f===l),p=s.filter((f,S)=>i<m?S>=i&&S<=m:S>=m&&S<=r);a(p)},idIsSelected:s=>e.includes(s),clearSelectedIds:()=>a([])}},he=e=>e.filter(a=>(a.rating===0||a.rating===null)&&a.completedAt.length===0);function ht(e){return t(R,{variant:"contained",color:"primary",onClick:e.startNewResource,id:"add-resource-button",style:{width:130},children:h(v,{children:[t(B,{icon:Se}),t(T,{ml:1,children:"Add Resource"})]})})}const mt=e=>({}),ft=e=>({startNewResource:()=>e(te())});var pt=b(mt,ft)(ht);const St=e=>{const[a,d]=u.exports.useState(null),{clearSelectedIds:c}=A(),[g,n]=u.exports.useState(!1),{setSuccessMessage:s,setErrorMessage:l}=O(),i=()=>{n(!0),k.put($.relearn.resourceMoveToTag,{resourceIds:e.resourceIds,toTagId:a}).then(o=>{e.setResources(o.data),e.onClose(),c(),s("Resources saved!")}).catch(()=>{l("Error while failing resources!")}).finally(()=>n(!1))};return t(j,{onClose:e.onClose,open:e.isOpen,fullWidth:!0,maxWidth:"xs","aria-labelledby":"move-resources-to-tag-dialog",children:h("form",{onSubmit:o=>{o.preventDefault(),i()},children:[t(_,{id:"move-resources-to-tag-dialog-title",children:"Move resources to tag"}),t(K,{children:t(T,{children:t(Te,{selectedTagId:a,onChange:(o,r)=>d(r),required:!0})})}),t(_,{children:t(be,{disabled:g,onCancel:e.onClose})})]})})},Tt=e=>({}),bt=e=>({setResources:a=>e(H(a))});var vt=b(Tt,bt)(St);const Ct=e=>{const a=ae(),{openConfirmDialog:d}=se(),{selectedResourceIds:c}=G(),{clearSelectedIds:g}=A(),{setSuccessMessage:n,setErrorMessage:s}=O(),[l,i]=u.exports.useState(!1),o=()=>{k.delete($.relearn.deleteManyResources,{data:{ids:c}}).then(r=>{e.setResources(r.data),g(),n("Resources deleted!")}).catch(()=>{s("Error while deleting resources!")})};return h(v,{my:2,justifyContent:"space-between",children:[h(v,{style:{gap:24},children:[h(E,{children:[c.length," selected"]}),t(R,{onClick:()=>i(!0),children:h(v,{style:{color:a.palette.secondary.main,gap:4},children:[t(B,{icon:ve}),t(E,{children:"Move to tag"})]})}),t(R,{onClick:()=>{d({title:"Delete resources",description:`Are you sure you want to delete ${c.length} resource(s)?`,onConfirm:o})},children:h(v,{style:{color:a.palette.error.main,gap:4},children:[t(Ce,{size:16}),t(E,{children:"Delete"})]})})]}),t(R,{variant:"outlined",onClick:g,children:h(v,{style:{gap:4},children:[t(B,{icon:xe}),t(E,{children:"Unselect all"})]})}),t(vt,{resourceIds:c,isOpen:l,onClose:()=>i(!1)})]})},xt=e=>({}),yt=e=>({setResources:a=>e(H(a))});var Rt=b(xt,yt)(Ct);function kt(e){return t(j,{onClose:e.onClose,open:!!e.tag,fullWidth:!0,maxWidth:"md","aria-labelledby":"edit-skills-dialog",children:e.tag&&t(P.Fragment,{children:t(K,{style:{padding:0},children:t(T,{width:"100%",children:t(ye,{fixedTag:e.tag,tag:e.tag})})})})})}const It=e=>({allTags:e.relearn.tags});var Dt=b(It,void 0)(kt);function $t(e){const a=Pt(),d=ne(),{skills:c}=U(),{pathname:g}=M(),[n,s]=u.exports.useState(null),l=()=>{const r=Number(g.split("/").pop());return r?c.filter(m=>m.tagId===r):[]},i=()=>{const r=Number(g.split("/").pop());if(r){const m=e.allTags.find(p=>p.id===r);s(m)}else d.push(C.skillbase.index)},o=()=>{s(null)};return h(P.Fragment,{children:[h(R,{onClick:i,variant:"outlined",size:"small",color:"secondary",className:a.editSkillsButton,children:["Edit Skills",t(v,{ml:1,className:a.innerChip,children:l().length})]}),t(Dt,{tag:n,onClose:o})]})}const Pt=I(e=>({innerChip:{background:e.palette.secondary.main,color:"#fff",paddingLeft:4,paddingRight:4,borderRadius:3},editSkillsButton:{marginBottom:8,marginRight:8}})),Et=e=>({allTags:e.relearn.tags});var Bt=b(Et,void 0)($t);function Mt(e){const a=ae(),d=Lt(),[c,g]=P.useState(null),n=r=>{g(r.currentTarget)},s=()=>{g(null)},l=r=>{e.onChangeFilterBy(r),s()},i=["Show all","By tag","Hide all"],o={"Show all":{icon:Re,text:"Show all priority skills"},"By tag":{icon:ke,text:"Filter by tag"},"Hide all":{icon:Ie,text:"Hide all"}};return h(P.Fragment,{children:[t(R,{variant:"outlined",size:"small",className:d.editSkillsButton,onClick:r=>{r.preventDefault(),n(r)},children:h(v,{style:{gap:a.spacing(1)},children:[t(B,{icon:o[e.filterBy].icon,style:{width:16,height:16}}),t(E,{variant:"body2",children:o[e.filterBy].text})]})}),t(oe,{id:"filter-skill-chip-menu",anchorEl:c,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,open:Boolean(c),onClose:r=>{r.preventDefault(),s()},children:i.map(r=>t(z,{selected:e.filterBy===r,onClick:()=>l(r),children:h(v,{style:{gap:a.spacing(1)},children:[t(B,{icon:o[r].icon,style:{width:16,height:16}}),t(E,{children:o[r].text})]})},r))})]})}const Lt=I(e=>({editSkillsButton:{marginBottom:8}}));function wt(){const e=Nt(),a=M(),{skills:d}=U(),[c,g]=u.exports.useState("By tag"),n=u.exports.useMemo(()=>{const{pathname:s}=a;if(c==="Show all")return d.filter(l=>l.isPriority);if(c==="By tag"&&s.startsWith(C.relearn.tag)){const l=Number(s.split("/").pop());if(l)return d.filter(o=>o.tagId===l&&o.isPriority===!0)}return[]},[d,a,c]);return h(L,{className:e.root,children:[n.map(s=>t(ct,{skill:s},s.id)),t(Bt,{}),t(Mt,{filterBy:c,onChangeFilterBy:g})]})}const Nt=I(e=>({root:{flexWrap:"wrap"},skillButton:{marginRight:8,marginBottom:8,fontWeight:400},innerChip:{background:e.palette.secondary.main,color:"#fff",paddingLeft:4,paddingRight:4,borderRadius:3},manageSkillsButton:{marginBottom:8}}));function Ot(e){const a=At(),d=M(),{selectedResourceIds:c}=G(),[g,n]=u.exports.useState(null),[s,l]=u.exports.useState(0),i=u.exports.useRef();u.exports.useEffect(()=>{const r=i.current.clientHeight;s!==r&&l(r)}),u.exports.useEffect(()=>{const{pathname:r}=d;if(r===C.relearn.index)n(null);else if(r.startsWith(C.relearn.tag)){const m=Number(r.split("/").pop());if(m){const p=e.allTags.find(f=>f.id===m);p&&(n(p),document.title=p.name+" - Endoh.io")}}},[d,e.allTags]);const o=(r,m)=>{e.onTabChange(m)};return h(T,{className:a.root,ref:i,children:[t(L,{justifyContent:"space-between",width:"100%",children:t(N,{variant:"h5",children:g?g.name:"Untagged"})}),t(T,{mt:2}),t(wt,{}),c.length>0?t(Rt,{}):h(De,{className:a.tabs,value:e.tabIndex,indicatorColor:"primary",textColor:"primary",onChange:o,"aria-label":"disabled tabs example",children:[t(Y,{className:a.tab,label:`${e.todoResources.length} Resources`}),t(Y,{className:a.tab,id:"completed-resources-tab-button",label:`${e.completedResources.length} Completed`})]})]})}const At=I(e=>({root:{position:"sticky",background:e.palette.background.default,zIndex:e.zIndex.appBar,top:73,paddingTop:24,marginTop:-8},tabs:{minHeight:32},tab:{padding:0,minWidth:"inherit",width:"inherit","&:nth-child(2)":{marginLeft:16}},outerChip:{cursor:"inherit",marginBottom:2,marginTop:2,marginRight:4}})),Ft=e=>({allTags:e.relearn.tags}),Wt=e=>({removeTag:a=>e(q(a))});var zt=b(Ft,Wt)(Ot);function Ht(e){const a=Gt(),{idIsSelected:d}=A(),{setErrorMessage:c}=O(),[g,n]=$e({type:"CARD",item:{index:e.index},collect:i=>({isDragging:i.isDragging()})}),s=u.exports.useRef(),[,l]=Pe({accept:"CARD",hover(i,o){const r=i,m=r.index,p=e.index;if(m===p)return;const f=s.current.getBoundingClientRect(),S=(f.bottom-f.top)/2,w=o.getClientOffset().y-f.top;if(!(m<p&&w<S)&&!(m>p&&w>S)){if(e.resource.completedAt.length>0){c("Completed items can't be moved");return}e.moveResource({tagId:e.resource.tag?e.resource.tag.id:null,fromIndex:m,toIndex:p}),r.index=p}}});return n(l(s)),t("div",{ref:s,children:t(T,{p:1,borderBottom:"1px solid rgb(255 255 255 / 0.1)",className:e.className+" resource-item "+(g.isDragging?a.isDragging:""),style:{background:d(e.resource.id)?"rgb(255 255 255 / 0.1)":"unset"},children:t(ue,{resource:e.resource})})})}const Gt=I(e=>({isDragging:{border:"1px dashed rgba(255, 255, 255, 0.2)"}})),_t=e=>({}),jt=e=>({moveResource:a=>e(Ee(a)),setResources:a=>e(H(a))});var Kt=b(_t,jt)(Ht);function Ut({resources:e,isDraggable:a}){const d=qt(),{onCtrlClick:c,idIsSelected:g,onShiftClick:n}=A();return a?t(Be,{children:e.map((s,l)=>t("div",{onClick:i=>{i.ctrlKey&&(i.preventDefault(),c(s.id)),i.shiftKey&&(i.preventDefault(),n(e.map(o=>o.id),s.id))},children:t(Kt,{resource:s,index:l,className:d.resourceItem})},s.id))}):t(dt,{style:{height:"calc(100vh - 384px)"},totalCount:e.length,itemContent:s=>t(T,{p:1,borderBottom:"1px solid rgb(255 255 255 / 0.1)",style:{background:g(e[s].id)?"rgb(255 255 255 / 0.1)":"unset"},onClick:l=>{l.ctrlKey&&(l.preventDefault(),c(e[s].id)),l.shiftKey&&(l.preventDefault(),n(e.map(i=>i.id),e[s].id))},children:t(ue,{resource:e[s]})})})}const qt=I(e=>({resourceItem:{cursor:"grab"}}));function Vt(e){const[a,d]=u.exports.useState(0),[c,g]=u.exports.useState([]),[n,s]=u.exports.useState([]),l=u.exports.useRef(""),i=M();return u.exports.useEffect(()=>{i.pathname!==l.current&&(d(0),l.current=i.pathname);const o=he(e.resources).sort((m,p)=>m.position-p.position);g(o);const r=e.resources.filter(m=>m.rating>0||m.completedAt.length>0).sort((m,p)=>p.completedAt.localeCompare(m.completedAt));s(r)},[e.resources]),h(Me,{maxWidth:"md",children:[t(zt,{onTabChange:o=>d(o),tabIndex:a,todoResources:c,completedResources:n,skills:e.skills}),t(T,{mt:2,children:t(Ut,{resources:a===0?c:n,isDraggable:a===0})}),a===0&&t(L,{mt:2,children:t(pt,{})})]})}function Qt(){return Le(e=>k.put(we.api.saveTagLastOpenedAt(e)).then(a=>a.data),{onSuccess:e=>{}})}const Z={IconTitleWrapper:J(L)(({theme:e})=>({gap:e.spacing(1)})),ResourcesCountWrapper:J(Ne)(({theme:e})=>({marginTop:e.spacing(.5),width:24}))};function Yt(e){const a=Jt(),d=se(),{setSuccessMessage:c}=O(),[g,n]=P.useState(null),s=o=>{n(o.currentTarget)},l=()=>{n(null)},i=o=>{d.openConfirmDialog({title:"Confirm delete?",onConfirm:()=>{k.delete(`${$.relearn.tag}/${o}`).then(r=>{c("Tag deleted!"),e.afterDelete(),e.removeTag(o)})}})};return h(P.Fragment,{children:[t(re,{id:"tag-more",size:"small","aria-label":"tag-more",onClick:o=>{o.preventDefault(),s(o)},children:t(Ae,{})}),h(oe,{id:"tag-more",anchorEl:g,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,open:Boolean(g),onClose:o=>{o.preventDefault(),l()},children:[h(z,{onClick:o=>{o.preventDefault(),e.editTag(e.tag),l()},children:[t(X,{className:a.listItemIcon,children:t(ut,{fontSize:"small"})}),t(N,{variant:"inherit",noWrap:!0,children:"Edit"})]}),h(z,{onClick:o=>{o.preventDefault(),i(e.tag.id)},id:"delete-tag-button",children:[t(X,{className:a.listItemIcon,children:t(Fe,{fontSize:"small",color:"error"})}),t(N,{variant:"inherit",noWrap:!0,color:"error",children:"Delete"})]})]})]})}const Jt=I(e=>Oe({tagListItem:{paddingLeft:e.spacing(4),alignItems:"flex-start"},moreButtonBox:{position:"absolute",width:32,height:32,right:0},listItemIcon:{width:16}})),Xt=e=>({editTag:a=>e(le(a)),removeTag:a=>e(q(a))});var Zt=b(void 0,Xt)(Yt);function ea(e){const a=M(),[d,c]=u.exports.useState(a.pathname);u.exports.useEffect(()=>{c(a.pathname)},[a]);const[g,n]=u.exports.useState(!1),s=()=>{n(!0)},l=()=>{n(!1)},{mutate:i}=Qt(),o=f=>{i(f,{onSuccess:S=>{const F=Ge([...e.allTags],S,"id");e.setTags(F)}})},[r,m]=u.exports.useState(""),p=We();return h(ie,{className:"tag-item",style:{justifyContent:"flex-start"},button:!0,component:ze,to:C.relearn.tag+"/"+e.tag.id,onClick:()=>o(e.tag.id),onMouseEnter:s,onMouseLeave:l,selected:d===C.relearn.tag+"/"+e.tag.id,children:[t(ce,{children:h(Z.IconTitleWrapper,{children:[t(He,{style:{color:e.tag.color}}),t(N,{noWrap:!0,style:{maxWidth:210},children:e.tag.name})]})}),g?t(Zt,{afterDelete:()=>{d.endsWith(e.tag.id.toString())&&m(C.relearn.index)},tag:e.tag}):t(Z.ResourcesCountWrapper,{children:t(N,{style:{fontSize:12,color:p.palette.grey[400]},children:he(e.allResources.filter(f=>{var S;return((S=f.tag)==null?void 0:S.id)===e.tag.id})).length})}),r.length>0&&t(de,{to:r})]},e.tag.id)}const ta=e=>({allResources:e.relearn.resources,allTags:e.relearn.tags}),aa=e=>({editTag:a=>e(le(a)),setTags:a=>e(V(a)),removeTag:a=>e(q(a))});var sa=b(ta,aa)(ea);function na(e){const[a,d]=u.exports.useState(!0),c=()=>{d(!a)};u.exports.useEffect(()=>{k.get($.relearn.tag).then(n=>{e.setTags(n.data)})},[]);const g=()=>{e.startNewTag(e.type==="private")};return h(P.Fragment,{children:[h(ie,{button:!0,onClick:c,children:[t(ce,{children:h(v,{children:[a?t(_e,{}):t(je,{}),t(T,{mx:1,children:e.type==="public"?"Public Tags":"Private Tags"}),t(B,{icon:e.type==="public"?Ke:Ue})]})}),t(re,{onClick:n=>{n.stopPropagation(),g()},size:"small",id:`add-${e.type}-tag`,children:t(qe,{})})]}),t(Ve,{in:a,timeout:"auto",unmountOnExit:!0,children:t(ge,{component:"div",disablePadding:!0,children:e.lists.map(n=>t(sa,{tag:n},n.id))})})]})}const oa=e=>({}),ra=e=>({setTags:a=>e(V(a)),startNewTag:a=>e(Qe(a))});var ee=b(oa,ra)(na);function la(e){const[a,d]=u.exports.useState([]),[c,g]=u.exports.useState([]);return u.exports.useEffect(()=>{d(e.tags.filter(n=>n.isPrivate===!1)),g(e.tags.filter(n=>n.isPrivate===!0))},[e.tags]),t(gt,{children:h(ge,{disablePadding:!0,children:[t(ee,{type:"public",lists:a}),t(ee,{type:"private",lists:c})]})})}const ia=e=>({tags:e.relearn.tags,resources:e.relearn.resources}),ca=e=>({});var da=b(ia,ca)(la);const ga=[{color:"#b8255f",name:"Berry Red"},{color:"#db4035",name:"Red"},{color:"#ff9933",name:"Orange"},{color:"#fad000",name:"Yellow"},{color:"#afb83b",name:"Olive Green"},{color:"#7ecc49",name:"Lime Green"},{color:"#299438",name:"Green"},{color:"#6accbc",name:"Mint Green"},{color:"#197a92",name:"Teal"},{color:"#14aaf5",name:"Sky Blue"},{color:"#96c3eb",name:"Light Blue"},{color:"#4073ff",name:"Blue"},{color:"#884dff",name:"Grape"},{color:"#af38eb",name:"Violet"},{color:"#eb96eb",name:"Lavender"},{color:"#ff8d85",name:"Salmon"},{color:"#808080",name:"Charcoal"},{color:"#b8b8b8",name:"Grey"},{color:"#ccac93",name:"Taupe"},{color:"#ffffff",name:"White"}],ua=e=>h(Ye,{variant:"outlined",size:"small",fullWidth:!0,children:[t(Je,{id:"demo-simple-select-outlined-label",children:"Color"}),t(Xe,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:e.value,onChange:a=>e.onChange(a.target.value),label:"Color",children:ga.map(a=>t(z,{value:a.color,children:h(v,{children:[t(T,{style:{width:12,height:12,borderRadius:12,background:a.color},mr:1}),a.name]})},a.color))})]}),ha=e=>{const a=ne(),{setSuccessMessage:d,setErrorMessage:c}=O(),g=n=>{k.post($.relearn.tag,n).then(s=>{d("Tag saved!");const l=s.data;e.setTags(l);const i=l.find(o=>o.name===n.name).id;a.push(C.relearn.tag+"/"+i)}).catch(s=>{c(s.response.data.errors[0].message)}).finally(()=>{e.closeTagDialog()})};return t(j,{onClose:()=>{e.closeTagDialog()},open:!!e.editingTag,fullWidth:!0,maxWidth:"xs","aria-labelledby":"edit-tag-dialog",children:t(T,{pb:1,px:1,children:t(Ze,{initialValues:e.editingTag,onSubmit:(n,{setSubmitting:s})=>{g(n)},children:({values:n,isSubmitting:s,setFieldValue:l,handleChange:i})=>h(et,{children:[t(_,{id:"edit-tag-dialog-title",children:n.id?"Edit Tag":"Add Tag"}),h(K,{children:[t(T,{children:t(tt,{"data-testid":"tag-name-input",id:"name",name:"name",value:n.name,inputProps:{"aria-label":"tag-name-input"},required:!0,label:"Tag Name",onChange:i,fullWidth:!0,autoFocus:!0})}),t(T,{mt:2,children:t(ua,{value:n.color,onChange:o=>{l("color",o)}})}),t(v,{children:t(at,{control:t(st,{checked:n.isPrivate,onChange:()=>{l("isPrivate",!n.isPrivate)},color:"primary"}),label:"Private tag"})}),h(L,{mt:4,children:[t(R,{disabled:s,type:"submit",variant:"contained",color:"primary",id:"save-tag-button",children:"Save"}),t(T,{ml:1,children:t(R,{onClick:()=>e.closeTagDialog(),variant:"text",children:"Cancel"})})]})]})]})})})})},ma=e=>({editingTag:e.relearn.editingTag}),fa=e=>({closeTagDialog:()=>e(nt()),setTags:a=>e(V(a))});var pa=b(ma,fa)(ha);const Sa=e=>{const a=Ta(),d=ot(),{setSkills:c,skills:g}=U(),n=rt(),{clearSelectedIds:s}=A(),{sidebarIsOpen:l,openSidebar:i}=lt(),[o,r]=u.exports.useState(""),[m,p]=u.exports.useState([]),f=()=>{k.get($.relearn.resource).then(x=>{e.setResources(x.data)}),k.get($.skillbase.skill).then(x=>{c(x.data)})};u.exports.useEffect(()=>{r(""),i(),f()},[]),u.exports.useEffect(()=>{d&&f()},[d]);const S=M(),[F,w]=u.exports.useState([]);return u.exports.useEffect(()=>{r("");const{pathname:x}=S;if(x===C.relearn.index)w(e.resources.filter(y=>y.tag===null)),document.title="Untagged - Endoh.io";else if(x.startsWith(C.relearn.tag)){const y=Number(x.split("/").pop());y&&(w(e.resources.filter(W=>{var D;return((D=W.tag)==null?void 0:D.id)===y})),c(g.filter(W=>W.tagId===y)))}},[e.resources,S]),u.exports.useEffect(()=>{s()},[S.pathname]),u.exports.useEffect(()=>{var x;if(((x=e.allTags)==null?void 0:x.length)>0){const y=e.allTags.sort((D,Q)=>D.lastOpenedAt===void 0?-1:Q.lastOpenedAt===void 0?1:D.lastOpenedAt>Q.lastOpenedAt?-1:1)[0];if(!n.tagId){r(C.relearn.tagId(y.id));return}e.allTags.find(D=>D.id===Number(n.tagId))||r(C.relearn.tagId(y.id))}},[e.allTags,n.tagId]),o.length>0?t(de,{to:o}):h(L,{height:"100%",children:[t(da,{}),t(T,{className:me(a.content,{[a.contentShift]:l}),flexGrow:1,children:e.hasFirstLoaded?t(Vt,{resources:F,skills:m}):t("div",{style:{marginTop:32},children:t(it,{})})}),t(pa,{})]})},Ta=I(e=>({content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:300}})),ba=e=>({resources:e.relearn.resources,hasFirstLoaded:e.relearn.hasFirstLoaded,allTags:e.relearn.tags}),va=e=>({setResources:a=>e(H(a)),startNewResource:()=>e(te())});var Ea=b(ba,va)(Sa);export{Ea as default};
