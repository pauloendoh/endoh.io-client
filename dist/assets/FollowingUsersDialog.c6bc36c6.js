import{bl as k,N as F,O as T,bm as D,R as z,r as c,j as e,bn as I,s as P,a as t,B as s,z as W,av as A,T as U,bo as B,bp as w,d as y,F as h,v,o as x,p as C,bc as g,b1 as m,aB as f,af as b,c as N,bb as O,aW as L,g as S}from"./index.5f659e0f.js";function E(){return k(D.userSuggestions,()=>F.get(T.feed.myUserSuggestions).then(n=>n.data))}function Q(n){const[i,o]=z.useState(!1),l=()=>{o(!1)},d=()=>{o(!0)},[u,r]=c.exports.useState(-1);return c.exports.useEffect(()=>{r(-1)},[n.value]),e(I,{onClickAway:l,children:e(P,{arrow:!0,PopperProps:{disablePortal:!0},onClose:l,open:i,interactive:!0,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:t(s,{children:[e(W,{name:"rating-input",value:n.value,onChange:(p,a)=>{o(!1),n.onChange(a)},onChangeActive:(p,a)=>{!a||a===n.value?r(0):r(a)}}),e(A,{children:e(U,{children:u!==-1?B[u]:w[n.value]})})]}),children:e(y,{size:"small",onClick:d,variant:"outlined",className:"rate-button",children:t(h,{children:[e(s,{children:"Min. rating: "}),n.value>0?t(s,{ml:1,children:[n.value," - ",w[n.value]]}):e(s,{ml:1,children:"-"})]})})})})}const R=n=>e(v,{onClose:n.onClose,open:n.open,fullWidth:!0,maxWidth:"sm","aria-labelledby":"followers-dialog",children:t(s,{pb:1,px:1,children:[e(x,{id:"followers-title",children:"Suggested Users"}),e(C,{children:n.userSuggestions.map(i=>t(h,{mb:2,children:[e(g,{isLink:!0,pictureUrl:i.pictureUrl,username:i.username,size:48}),t(s,{ml:1,children:[e(m,{variant:"button",color:"inherit",component:f,to:b.user.index(i.username),children:i.username}),e(s,{children:i.description})]})]},i.id))})]})});function j(n){const{authUser:i}=O(),[o,l]=c.exports.useState(!1),[d,u]=c.exports.useState([]);return c.exports.useEffect(()=>{const r=n.followingTags.map(a=>a.followingUser.userId);r.push(i.id);const p=n.userSuggestions.filter(a=>r.includes(a.suggestedUserId)===!1);u(p)},[n.followingTags,n.userSuggestions]),t(s,{width:250,children:[t(h,{justifyContent:"space-between",children:[e(U,{children:"Suggestions for You"}),e(y,{size:"small",onClick:()=>l(!0),children:"See All"}),e(R,{userSuggestions:d,onClose:()=>l(!1),open:o})]}),d.slice(0,3).map(r=>t(h,{my:1,className:"suggested-user-item",children:[e(g,{isLink:!0,pictureUrl:r.pictureUrl,username:r.username,size:32}),t(s,{ml:1,children:[e(m,{variant:"button",color:"inherit",component:f,to:b.user.index(r.username),children:r.username}),e(s,{children:r.description})]})]},r.id))]})}const M=n=>({});var $=N(void 0,M)(j);const q=n=>{const{username:i}=L();return e(v,{onClose:()=>{n.onClose()},open:n.open,fullWidth:!0,maxWidth:"sm","aria-labelledby":"followers-dialog",children:t(s,{pb:1,px:1,children:[e(x,{id:"followers-title",children:(i==null?void 0:i.length)>0?t("span",{children:[i,"'s followers"]}):e("span",{children:"Your followers"})}),e(C,{children:n.followers.map(l=>e(s,{mb:3,children:t(S,{children:[e(g,{isLink:!0,pictureUrl:l.follower.pictureUrl,username:l.follower.username,size:48}),t(s,{ml:2,children:[e(s,{children:e(m,{component:f,variant:"body1",color:"inherit",to:b.user.index(l.follower.username),children:e("b",{children:l.follower.username})})}),e(s,{children:l.follower.fullName}),t(s,{children:["Following ",l.tags.length," ",l.tags.length>1?"tags":"tag"]})]})]})},l.follower.userId))})]})})},H=n=>{const{username:i}=L();return e(v,{onClose:()=>{n.onClose()},open:n.open,fullWidth:!0,maxWidth:"sm","aria-labelledby":"following-users-dialog",children:t(s,{pb:1,px:1,children:[e(x,{id:"following-users-title",children:(i==null?void 0:i.length)>0?t("span",{children:[i," is following"]}):e("span",{children:"You're following"})}),e(C,{children:n.followingUsers.map(l=>e(s,{mb:3,children:t(S,{children:[e(g,{isLink:!0,pictureUrl:l.followingUser.pictureUrl,username:l.followingUser.username,size:48}),t(s,{ml:2,children:[e(s,{children:e(m,{component:f,variant:"body1",color:"inherit",to:b.user.index(l.followingUser.username),children:e("b",{children:l.followingUser.username})})}),e(s,{children:l.followingUser.fullName}),t(s,{children:["Following ",l.tags.length," ",l.tags.length>1?"tags":"tag"]})]})]})},l.followingUser.userId))})]})})};export{q as F,Q as M,$ as U,H as a,E as u};
