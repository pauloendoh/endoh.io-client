import{a as S,F as C,M as k,u as D,U as P}from"./FollowingUsersDialog.c6bc36c6.js";import{bb as b,r as u,a as s,g as h,j as r,bc as y,B as n,b1 as g,aB as F,af as U,d as p,bl as B,N as _,O as x,bm as A,k as T,l as q,n as z,c as L,F as c,b5 as M,bq as j,P as O,T as R,b2 as H,br as I,bs as Q,bp as $,G as d}from"./index.5f659e0f.js";import{t as E}from"./index.m.a9ba3723.js";import{R as G}from"./ResourceThumbnail.11ac4099.js";const V=()=>{const{authUser:e,profile:l,followingUsers:a,followers:o}=b(),[i,t]=u.exports.useState(!1),[m,v]=u.exports.useState(!1);return s(h,{children:[l&&r(y,{pictureUrl:l.pictureUrl,username:e.username,isLink:!0,size:32}),s(n,{children:[r(g,{variant:"button",color:"inherit",component:F,to:U.user.index(e.username),style:{marginLeft:8},children:e.username}),s(h,{children:[s(n,{children:[s(p,{onClick:()=>v(!0),children:[a.length," Following"]}),r(S,{followingUsers:a,open:m,onClose:()=>v(!1)})]}),s(n,{children:[s(p,{onClick:()=>t(!0),children:[o.length," Followers"]}),r(C,{followers:o,open:i,onClose:()=>t(!1)})]})]})]})]})};function W(){return B(A.feedResources,()=>_.get(x.feed.resources).then(e=>e.data))}var f={},K=q.exports,N=z.exports;Object.defineProperty(f,"__esModule",{value:!0});var w=f.default=void 0,J=N(u.exports),X=K(T),Y=(0,X.default)(J.createElement("path",{d:"M14 10H2v2h12v-2zm0-4H2v2h12V6zm4 8v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zM2 16h8v-2H2v2z"}),"PlaylistAdd");w=f.default=Y;const Z=e=>r(p,{onClick:()=>{const a=j(),{feedResource:o}=e;a.fromResourceId=o.id,a.title=o.title,a.url=o.url,a.thumbnail=o.thumbnail,e.editResource(a)},children:s(c,{children:[r(w,{}),r(n,{ml:1,children:"Save"})]})}),ee=e=>({}),re=e=>({editResource:l=>e(M(l))});var te=L(ee,re)(Z);const se=()=>{const[e,l]=u.exports.useState([]),[a,o]=u.exports.useState(0),{data:i}=W();return u.exports.useEffect(()=>{if((i==null?void 0:i.length)>0){const t=i.filter(m=>m.rating>=a);l(t)}},[i,a]),s(n,{pr:4,children:[r(h,{justifyContent:"flex-end",mb:2,children:r(k,{onChange:o,value:a})}),r(E,{style:{height:"calc(100vh - 156px)"},totalCount:e.length,itemContent:t=>s(O,{style:{marginBottom:16,padding:16,marginRight:8},children:[s(c,{children:[r(y,{pictureUrl:e[t].user.pictureUrl,username:e[t].user.username,size:32,isLink:!0}),r(n,{ml:1,children:r(g,{variant:"button",color:"inherit",component:F,to:U.user.index(e[t].user.username),children:e[t].user.username})})]}),r(n,{mt:1,children:s(h,{children:[r(G,{linkable:!0,resourceUrl:e[t].url,thumbnailSrc:e[t].thumbnail,width:75}),s(n,{ml:1,width:"100%",children:[r(R,{children:e[t].title}),r(n,{children:r(g,{href:e[t].url,target:"_blank",children:r(R,{variant:"inherit",children:e[t].url})})}),s(c,{mt:1,children:[r(H,{date:e[t].completedAt,live:!1}),s(c,{ml:"auto",children:[s(c,{style:{width:100,color:I(e[t].rating)},children:[r(Q,{}),s(n,{children:[e[t].rating," -"," ",$[e[t].rating]]})]}),r(c,{children:r(te,{feedResource:e[t]})})]})]})]})]})})]},e[t].id)})]})},ie=()=>{const{followingUsers:e}=b(),{data:l}=D();return r(n,{pt:3,children:s(d,{container:!0,children:[r(d,{item:!0,xs:1,md:2,lg:3}),r(d,{item:!0,xs:7,md:6,lg:5,children:r(se,{})}),s(d,{item:!0,xs:4,children:[r(V,{}),r(n,{mt:2}),(l==null?void 0:l.length)>0&&r(P,{userSuggestions:l,followingTags:e})]})]})})};export{ie as default};
