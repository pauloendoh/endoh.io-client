import{r as p,k as M,l as _,n as y,m as z,c as $,a6 as k,a1 as B,R as v,j as t,a as s,B as E,I as b,aw as W,ag as H,ah as l,ax as i,T as u,ay as N,b5 as O,b6 as j,a4 as q,N as f,O as R}from"./index.5f659e0f.js";import{d as T}from"./Edit.aa6ffe9d.js";const X=e=>!(e==="  :  h"||e==="00:00h"||e==="");var d={},w=_.exports,A=y.exports;Object.defineProperty(d,"__esModule",{value:!0});var g=d.default=void 0,F=A(p.exports),P=w(M),V=(0,P.default)(F.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4l6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");g=d.default=V;function L(e){const o=U(),{openConfirmDialog:I}=k(),{setSuccessMessage:h,setErrorMessage:S}=B();p.exports.useEffect(()=>{e.isHovered||c(null)},[e.isHovered]);const[m,c]=v.useState(null),x=r=>{c(r.currentTarget)},n=()=>{c(null)},C=r=>{I({title:"Delete resource?",onConfirm:()=>{f.delete(`${R.relearn.resource}/${r}`).then(a=>{h("Resource deleted!"),e.removeResource(r)})}})},D=r=>{f.post(`${R.relearn.resourceDuplicate}/${r.id}`).then(a=>{h("Resource duplicated!"),e.setResources(a.data)}).catch(a=>{S(a.response.data.errors[0].message)})};return t(v.Fragment,{children:s("div",{children:[t(E,{className:o.moreButtonBox,children:e.isHovered&&t(b,{size:"small",id:"resource-more-icon","aria-label":"resource-more-icon",onClick:r=>{x(r)},children:t(W,{})})}),s(H,{id:"tag-more",anchorEl:m,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,open:Boolean(m),onClose:r=>{r.preventDefault(),n()},children:[s(l,{onClick:r=>{n(),e.editResource(e.resource)},children:[t(i,{className:o.listItemIcon,children:t(T,{fontSize:"small"})}),t(u,{variant:"inherit",noWrap:!0,children:"Edit"})]}),s(l,{onClick:r=>{r.preventDefault(),n(),D(e.resource)},children:[t(i,{className:o.listItemIcon,children:t(g,{fontSize:"small"})}),t(u,{variant:"inherit",noWrap:!0,children:"Duplicate"})]}),s(l,{onClick:()=>{n(),C(e.resource.id)},id:"delete-resource-button",children:[t(i,{className:o.listItemIcon,children:t(N,{fontSize:"small",color:"error"})}),t(u,{variant:"inherit",noWrap:!0,color:"error",children:"Delete"})]})]})]})})}const U=z(e=>({listItemIcon:{width:16},moreButtonBox:{width:32,minWidth:32}})),G=e=>({}),J=e=>({editResource:o=>e(O(o)),removeResource:o=>e(j(o)),setResources:o=>e(q(o))});var Y=$(G,J)(L);export{Y as R,X as v};
