var Me=Object.defineProperty,Re=Object.defineProperties;var $e=Object.getOwnPropertyDescriptors;var oe=Object.getOwnPropertySymbols;var qe=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable;var ie=(e,n,s)=>n in e?Me(e,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[n]=s,D=(e,n)=>{for(var s in n||(n={}))qe.call(n,s)&&ie(e,s,n[s]);if(oe)for(var s of oe(n))_e.call(n,s)&&ie(e,s,n[s]);return e},W=(e,n)=>Re(e,$e(n));import{c as Fe}from"./index.926ca9c5.js";import{r as l,k as K,l as G,n as J,m as k,c as ze,a,bt as Oe,j as t,bu as z,bv as re,bw as I,bb as Le,P as He,bx as Pe,by as Qe,a$ as ue,bz as q,N,O as M,aZ as he,a7 as U,au as V,F as A,av as Y,a1 as P,q as X,o as w,T as b,I as R,bA as Z,p as F,bB as fe,v as ee,B as S,bC as B,M as L,a3 as me,b1 as Ve,d as j,R as H,bD as Ee,a6 as Be,aw as je,ag as Ke,ah as le,ax as ce,at as ge,Q as Ge,g as te,as as Je,E as pe,aA as ve,aB as Ue,af as _,aC as Se,aG as be,ac as xe,aX as Ce,a_ as Ye,aN as Xe,s as de,aL as Ze,bE as et,aW as tt,aY as nt}from"./index.5f659e0f.js";import{T as st,a as at,b as O,c as ot,p as it}from"./immer.esm.c98d80d7.js";import{h as rt,k as lt,c as ct}from"./_arrayMap.4ee0a895.js";import{d as dt}from"./Edit.aa6ffe9d.js";var ne={},ut=G.exports,ht=J.exports;Object.defineProperty(ne,"__esModule",{value:!0});var ye=ne.default=void 0,ft=ht(l.exports),mt=ut(K),gt=(0,mt.default)(ft.createElement("path",{d:"M8 5v14l11-7z"}),"PlayArrow");ye=ne.default=gt;const pt=(e,n,s)=>({id:null,docId:n,userId:s,index:e,description:"",question:"",weight:1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}),vt=e=>{const n=St(),[s,o]=l.exports.useState(e.initialValue),c=g=>{const h=W(D({},s),{description:g});o(h),e.onChange(h)},m=g=>{const h=W(D({},s),{question:g});o(h),e.onChange(h)},i=l.exports.createRef(),d=l.exports.createRef(),u=()=>i.current.focus(),f=()=>d.current.focus();return a(Oe,{children:[t(z,{className:n.td,align:"center",children:e.index+1}),t(z,{className:n.textareaCell,onClick:u,children:t(re,{ref:i,onChange:g=>c(g.target.value),value:s.description,className:n.textarea,autoFocus:!0})}),t(z,{className:n.textareaCell,onClick:f,children:t(re,{onChange:g=>m(g.target.value),value:s.question,className:n.textarea,ref:d})}),t(z,{align:"center",className:n.td,children:s.weight})]})},St=k(e=>({textareaCell:{cursor:"pointer !important"},td:{fontSize:13},textarea:{resize:"none",border:"none",minWidth:125,width:"-webkit-fill-available",background:"none",fontSize:13,fontFamily:e.typography.fontFamily,color:"white",cursor:"pointer"}})),bt=e=>({}),xt=e=>({});var Ct=ze(bt,xt)(vt);const yt=e=>{const n=I(),{authUser:s}=Le(),o=wt(),c=()=>{h(!0);const p=pt(m().length,e.docId,s.id);N.post(M.define.note,p).then(r=>{n.pushOrReplaceNote(r.data)}).finally(()=>h(!1))},m=()=>n.notes.filter(v=>v.docId===e.docId).sort((v,x)=>v.index-x.index),[i,d]=l.exports.useState(null),u=p=>{clearTimeout(i),d(setTimeout(()=>{N.post(M.define.note,p).then(r=>{n.pushOrReplaceNote(r.data)})},500))},f=p=>`${p.id}-${p.weight}`,[g,h]=l.exports.useState(!1);return a(He,{children:[t(Pe,{className:o.container,children:a(Qe,{stickyHeader:!0,className:o.table,"aria-labelledby":"tableTitle",size:"small","aria-label":"enhanced table",children:[t(st,{children:a(at,{children:[t(O,{className:o.th,align:"center",children:"#"}),t(O,{className:o.th,children:"Notes"}),t(O,{className:o.th,children:"Flashcard Question"}),t(O,{align:"center",className:o.th,children:"Weight"})]})}),t(ot,{children:m().map((p,r)=>t(Ct,{index:r,initialValue:p,onChange:u},f(p)))})]})}),t(ue,{children:t(q,{onClick:c,disabled:g,children:"+ Add Note"})})]})},wt=k(e=>({container:{maxHeight:440},th:{background:"#232323"},table:{minWidth:500,"& .MuiTableCell-root":{padding:8,borderBottom:"1px solid rgb(255 255 255 / 0.1)"}}}));var Dt=Math.floor,It=Math.random;function Nt(e,n){return e+Dt(It()*(n-e+1))}var Tt=Nt,At=Tt;function kt(e){var n=e.length;return n?e[At(0,n-1)]:void 0}var we=kt,Wt=rt;function Mt(e,n){return Wt(n,function(s){return e[s]})}var Rt=Mt,$t=Rt,qt=lt;function _t(e){return e==null?[]:$t(e,qt(e))}var Ft=_t,zt=we,Ot=Ft;function Lt(e){return zt(Ot(e))}var Ht=Lt,Pt=we,Qt=Ht,Vt=ct;function Et(e){var n=Vt(e)?Pt:Qt;return n(e)}var De=Et;const Bt=e=>{for(var n=e.length,s;n!==0;)s=Math.floor(Math.random()*n),n--,[e[n],e[s]]=[e[s],e[n]];return e},jt={Input:he.input`
    width: 50px;
    text-align: center;
    font-family: inherit;
    font-size: inherit;
    background: none;
    border: none;
    border-bottom: 1px solid white;
    color: inherit;
  `},Kt=e=>a(U,{variant:"h5",children:[t(jt.Input,{type:"number",value:e.value,onChange:n=>e.onChange(Number(n.target.value)),min:1}),t("span",{style:{marginLeft:8},children:"min. weight"})]}),Gt={Input:he.input`
    width: 50px;
    text-align: center;
    font-family: inherit;
    font-size: inherit;
    background: none;
    border: none;
    border-bottom: 1px solid white;
    color: inherit;
  `},Jt=e=>a(U,{variant:"h5",children:[t(Gt.Input,{type:"number",value:e.value,onChange:n=>e.onChange(Number(n.target.value)),min:0,max:e.maxValue}),a("span",{children:["/ ",e.maxValue," flashcards"]})]}),E={DialogTitleContent:V(A)(({theme:e})=>({justifyContent:"space-between"})),ResultsCountWrapper:V(A)(({theme:e})=>({marginTop:e.spacing(3),justifyContent:"space-between",width:350,margin:"0 auto"})),ScorePercentageWrapper:V(Y)(({theme:e})=>({marginTop:e.spacing(4)}))},Ut=e=>{const[n,s]=l.exports.useState(!1),o=I(),c=()=>(e.halves*.5+e.corrects)*100/e.results.length,{setSuccessMessage:m}=P(),i=()=>{s(!0),N.post(M.define.postManyNotes,e.results).then(f=>{o.setNotes(f.data),m("Saved!"),e.onFinish()}).finally(()=>s(!1))},d={onSpacePress:"space"},u={onSpacePress:async()=>{i()}};return a(X.exports.GlobalHotKeys,{keyMap:d,handlers:u,allowChanges:!0,children:[t(w,{children:a(E.DialogTitleContent,{justifyContent:"space-between",children:[a(b,{variant:"h6",children:[e.doc.title," "]}),t(R,{onClick:e.onFinish,size:"small",children:t(Z,{})})]})}),a(F,{style:{height:300},children:[a(E.ResultsCountWrapper,{children:[a(b,{variant:"h6",color:"error",align:"center",children:[e.wrongs," Wrong"]}),a(b,{variant:"h6",align:"center",children:[e.halves," Half"]}),a(b,{variant:"h6",color:"primary",align:"center",children:[e.corrects," Correct"]})]}),a(E.ScorePercentageWrapper,{children:[t(b,{variant:"h3",children:"Score"}),a(b,{variant:"h3",children:[Math.round(c()),"%"]})]})]}),t(w,{children:t(q,{disabled:n,fullWidth:!0,onClick:i,children:"Save and Apply Changes (Space)"})})]})},Yt=e=>{const{handleSubmit:n,watch:s,reset:o,control:c,formState:m}=fe({defaultValues:e.initialValue});return l.exports.useEffect(()=>{e.open&&o(e.initialValue)},[e.open]),t(ee,{onClose:e.onClose,open:e.open,fullWidth:!0,maxWidth:"xs","aria-labelledby":"note-dialog",children:t(S,{pb:1,px:1,children:a("form",{onSubmit:n(e.onSubmit),children:[t(w,{id:"note-dialog-title",children:s("id")?"Edit Question":"New Question"}),a(F,{children:[t(S,{children:t(B,{control:c,name:"question",render:({field:i})=>t(L,D({id:"question",name:"question",size:"small",label:"Question",multiline:!0,className:"mt-3",fullWidth:!0,required:!0,autoFocus:!0},i))})}),t(S,{mt:2,children:t(B,{control:c,name:"description",render:({field:i})=>t(L,D({id:"description",name:"description",size:"small",label:"Answer",multiline:!0,className:"mt-3",fullWidth:!0,required:!0},i))})})]}),t(w,{children:t(me,{disabled:m.isSubmitting,onCancel:e.onClose})})]})})})},Xt=e=>{const[n,s]=l.exports.useState(!1),[o,c]=l.exports.useState(!1);l.exports.useEffect(()=>{s(!1)},[e.questionNumber]);const m={onSpacePress:"space",onJPress:"j",onKPress:"k",onLPress:"l"},i={onSpacePress:async()=>{n||s(!0)},onJPress:async()=>{n||s(!0),n&&e.onWrongAnswer()},onKPress:async()=>{n||s(!0),n&&e.onHalfAnswer()},onLPress:async()=>{n||s(!0),n&&e.onCorrectAnswer()}},d=Zt();return a(X.exports.GlobalHotKeys,{keyMap:m,handlers:i,allowChanges:!0,children:[t(w,{children:a(A,{justifyContent:"space-between",children:[a(b,{children:["(",e.questionNumber,"/",e.totalQuestions,") ",e.docTitle]}),t(R,{onClick:e.closeDialog,size:"small",children:t(Z,{})})]})}),a(F,{style:{height:300},children:[t(b,{variant:"h4",children:e.question.question}),t(S,{mt:4}),n&&a(S,{children:[t(b,{variant:"body1",style:{fontStyle:"italic",whiteSpace:"pre-line"},children:e.question.description}),a(S,{mt:2,children:[t(Ve,{href:"#",onClick:u=>{u.preventDefault(),c(!0)},variant:"body2",children:"edit"}),t(Yt,{initialValue:e.question,onClose:()=>{c(!1)},onSubmit:u=>{e.onEditQuestion(u),c(!1)},open:o})]})]}),t(S,{mt:4})]}),t(w,{children:n===!1?t(q,{onClick:()=>s(!0),fullWidth:!0,children:"Show Answer (Space, J, K or L)"}):a(A,{mx:"auto",justifyContent:"space-between",children:[t(j,{onClick:e.onWrongAnswer,className:d.wrongButton,children:"Wrong (J)"}),t(q,{onClick:e.onHalfAnswer,variant:"contained",className:d.button,children:"Half (K)"}),t(j,{onClick:e.onCorrectAnswer,variant:"contained",color:"primary",className:d.button,children:"Correct (L)"})]})})]})},Zt=k(e=>({wrongButton:{width:125,color:"white",background:e.palette.error.main},button:{width:125}})),en=e=>{const[n,s]=l.exports.useState(e.questions),[o,c]=l.exports.useState(0),[m,i]=l.exports.useState(0),[d,u]=l.exports.useState(0),[f,g]=l.exports.useState(0),[h,p]=l.exports.useState([]),r=()=>{i(m+1),y();const C=n[o];p([...h,W(D({},C),{weight:C.weight*4})])},v=()=>{u(d+1),y();const C=n[o];p([...h,W(D({},C),{weight:C.weight*2})])},x=()=>{g(f+1),y();const C=n[o];if(C.weight===1){p([...h,C]);return}p([...h,W(D({},C),{weight:C.weight/2})])},y=()=>{o!==n.length-1&&c(o+1)},T=()=>h.length===n.length,$=C=>{s(it(n,Q=>{const ke=Q.findIndex(We=>We.id===C.id);return Q[ke]=C,Q}))};return t(H.Fragment,{children:T()?t(Ut,{doc:e.doc,wrongs:m,halves:d,corrects:f,results:h,onFinish:e.onFinish}):t(Xt,{question:n[o],questionNumber:o+1,totalQuestions:n.length,docTitle:e.doc.title,closeDialog:e.onFinish,onEditQuestion:$,onWrongAnswer:r,onHalfAnswer:v,onCorrectAnswer:x})})},tn=e=>{const n=I(),[s,o]=l.exports.useState(1),[c,m]=l.exports.useState([]),[i,d]=l.exports.useState(0),[u,f]=l.exports.useState([]),g=()=>n.docs.find(v=>v.id===e.docId);l.exports.useEffect(()=>{o(1),m([]),d(0),f([])},[e.open]),l.exports.useEffect(()=>{const v=n.notes.filter(x=>x.docId===e.docId&&x.weight>=s&&x.question.length>0);m(v),d(v.length)},[s,n.notes]);const h=()=>{e.onClose()},p=()=>{if(i===0)return alert("Please, select a number of flashcards");if(c.length===i){const y=Bt(c);f(y);return}let v=[];for(const y of c)for(let T=0;T<y.weight;T++)v.push(y.id);const x=[];for(let y=0;y<i;y++){const T=De(v);v=v.filter($=>$!==T),x.push(n.notes.find($=>$.id===T))}f(x)},r=()=>{p()};return t(ee,{onClose:h,open:e.open,fullWidth:!0,maxWidth:"xs","aria-labelledby":"flashcard-title-dialog",children:u.length>0?t(en,{questions:u,doc:g(),onFinish:h}):a(X.exports.GlobalHotKeys,{keyMap:{onSpacePress:"space"},handlers:{onSpacePress:r},children:[a(w,{style:{justifyContent:"space-between"},children:[a(U,{variant:"h6",children:[g().title," "]}),t(R,{onClick:h,size:"small",children:t(Z,{})})]}),a(F,{style:{height:300},children:[a(Y,{children:[t(Kt,{onChange:o,value:s}),t(S,{mt:2}),t(Jt,{maxValue:c.length,onChange:d,value:i})]}),t(S,{mt:4}),a(b,{children:[t("b",{children:"Rules:"}),a("ul",{style:{paddingLeft:24},children:[t("li",{children:"Wrong answer = 4x weight; Half answer = 2x weight; Correct answer = 1/2 weight;"}),t("li",{children:"By increasing the flashcard\u2019s weight, it proportionally increases the chances of appearing in the next try;"}),t("li",{children:"You can set up a minimum flashcard weight;"})]})]})]}),t(w,{children:t(q,{onClick:p,fullWidth:!0,children:"Start! (Space)"})})]})})};function nn(e){return Ee({tag:"svg",attr:{t:"1569683368540",viewBox:"0 0 1024 1024",version:"1.1"},child:[{tag:"defs",attr:{},child:[]},{tag:"path",attr:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6c-0.3 1.5-0.4 3-0.4 4.4 0 14.4 11.6 26 26 26h723c1.5 0 3-0.1 4.4-0.4 14.2-2.4 23.7-15.9 21.2-30zM204 390h272V182h72v208h272v104H204V390z m468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]})(e)}const Ie=e=>{const n=I(),s=()=>{e.onClose()},{setSuccessMessage:o}=P(),c=f=>{const g={title:f.title,id:e.docId};N.post(M.define.doc,g).then(h=>{n.pushOrReplaceDoc(h.data),o("Doc saved!"),e.afterSave&&e.afterSave(h.data)})},{reset:m,handleSubmit:i,formState:d,control:u}=fe({defaultValues:e.initialValue});return l.exports.useEffect(()=>{e.open&&m(e.initialValue)},[e.open]),t(ee,{onClose:s,open:e.open,fullWidth:!0,maxWidth:"xs","aria-labelledby":"doc-title-dialog",children:t(S,{pb:1,px:1,children:a("form",{onSubmit:i(c),children:[t(w,{id:"doc-title-dialog-title",children:"Doc Title"}),t(F,{children:t(S,{children:t(B,{control:u,name:"title",render:({field:f})=>t(L,D({id:"title",name:"title",size:"small",label:"Title",className:"mt-3",fullWidth:!0,required:!0,autoFocus:!0},f))})})}),t(w,{children:t(me,{disabled:d.isSubmitting,onCancel:s})})]})})})};function sn(e){const n=an(),{setNotes:s}=I(),{openConfirmDialog:o}=Be(),{setSuccessMessage:c,setErrorMessage:m}=P(),[i,d]=H.useState(null),[u,f]=l.exports.useState(!1),g=r=>{d(r.currentTarget)},h=()=>{d(null)},p=()=>{o({title:"Clear empty notes?",onConfirm:()=>{N.delete(ge.api.clearEmptyNotes(e.doc.id)).then(r=>{c("Cleared empty notes"),s(r.data)}).catch(r=>m(r.response.data.message))}})};return a(H.Fragment,{children:[t(R,{id:"doc-title-more",size:"small",onClick:r=>{r.preventDefault(),g(r)},children:t(je,{})}),a(Ke,{id:"doc-title-more",anchorEl:i,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,open:Boolean(i),onClose:r=>{r.preventDefault(),h()},children:[a(le,{onClick:r=>{f(!0),h()},children:[t(ce,{className:n.listItemIcon,children:t(dt,{fontSize:"small"})}),t(b,{variant:"inherit",noWrap:!0,children:"Edit"})]}),a(le,{onClick:r=>{p(),h()},children:[t(ce,{className:n.listItemIcon,children:t(nn,{})}),t(b,{variant:"inherit",noWrap:!0,children:"Clear empty notes"})]})]}),t(Ie,{initialValue:{title:e.doc.title},open:u,afterSave:()=>{f(!1)},onClose:()=>{f(!1)},docId:e.doc.id})]})}const an=k(e=>({listItemIcon:{width:16}})),on=e=>{const n=I(),[s,o]=l.exports.useState(!1),c=()=>n.docs.find(i=>i.id===e.docId),m=()=>n.notes.filter(i=>i.docId===e.docId&&i.question.trim().length>0).length;return a(Ge,{children:[a(te,{justifyContent:"space-between",children:[t(b,{variant:"h4",children:c().title}),t(S,{children:t(sn,{doc:c(),afterDelete:()=>{}})})]}),a(S,{mt:3,children:[t(j,{onClick:()=>o(!0),variant:"contained",color:"primary",children:a(A,{children:[t(ye,{fontSize:"small"}),a(S,{ml:1,children:["Test Yourself"," ",m()>0&&`(${m()})`]})]})}),s&&t(tn,{docId:e.docId,open:s,onClose:()=>o(!1)})]}),t(S,{mt:3,children:t(yt,{docId:e.docId})})]})};var se={},rn=G.exports,ln=J.exports;Object.defineProperty(se,"__esModule",{value:!0});var Ne=se.default=void 0,cn=ln(l.exports),dn=rn(K),un=(0,dn.default)(cn.createElement("path",{d:"M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"}),"Shuffle");Ne=se.default=un;function Te(){return Je(e=>N.put(ge.api.saveDocLastOpenedAt(e)).then(n=>n.data),{onSuccess:e=>{}})}var ae={},hn=G.exports,fn=J.exports;Object.defineProperty(ae,"__esModule",{value:!0});var Ae=ae.default=void 0,mn=fn(l.exports),gn=hn(K),pn=(0,gn.default)(mn.createElement("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description");Ae=ae.default=pn;function vn(e){const n=I(),s=Sn(),o=l.exports.useMemo(()=>n.notes.filter(d=>d.docId===e.doc.id).length,[n.notes,e.doc]),c=l.exports.useMemo(()=>n.notes.filter(d=>d.docId===e.doc.id&&d.question.trim().length>0).length,[n.notes,e.doc]),{mutate:m}=Te(),i=d=>{m(d,{onSuccess:u=>{const f=be([...n.docs],u,"id");n.setDocs(f)}})};return t(ve,{button:!0,component:Ue,to:_.define.docId(e.doc.id),selected:e.selected,onClick:()=>i(e.doc.id),children:t(Se,{children:a(te,{children:[t(Ae,{}),t(S,{ml:1,width:210,children:t(b,{style:{maxWidth:"inherit"},children:e.doc.title})}),t(Y,{width:24,children:a(b,{className:s.resourcesCount,children:[o,c>0&&`/${c}`]})})]})})})}const Sn=k(e=>pe({resourcesCount:{fontSize:12,color:e.palette.grey[400]}}));function bn(e){const n=xn(),s=xe(),o=I(),{sidebarIsOpen:c}=Ce(),{mutate:m}=Te(),[i,d]=l.exports.useState(""),[u,f]=l.exports.useState(!1),g=()=>o.docs.filter(v=>et(v.title,i)).sort((v,x)=>v.title.localeCompare(x.title)),h=r=>{m(r,{onSuccess:v=>{const x=be([...o.docs],v,"id");o.setDocs(x)}})},p=()=>{if(o.docs.length>0){const r=De(o.docs);s.push(_.define.docId(r.id)),h(r.id)}};return a(Ye,{className:n.root,variant:"persistent",open:c,classes:{paper:n.drawerPaper},children:[t(ue,{}),a(S,{children:[t(S,{pt:4,px:2,children:t(L,{fullWidth:!0,style:{marginLeft:"auto",marginRight:"auto"},label:"Filter docs",value:i,onChange:r=>d(r.target.value)})}),a(Xe,{disablePadding:!0,children:[t(ve,{children:t(Se,{children:a(A,{justifyContent:"space-between",children:[a(S,{children:[g().length," Docs"]}),a(A,{children:[t(de,{title:"Open random doc",children:t(R,{size:"small",onClick:p,children:t(Ne,{})})}),t(S,{ml:1}),t(de,{title:"Add doc",children:t(R,{size:"small",onClick:()=>f(!0),children:t(Ze,{})})})]}),t(Ie,{open:u,initialValue:{title:""},onClose:()=>f(!1),afterSave:r=>{s.push(_.define.docId(r.id)),f(!1)}})]})})}),g().map(r=>t(vn,{selected:r.id===e.selectedDocId,doc:r},r.id))]})]})]})}const xn=k(e=>pe({root:{flexShrink:0},drawerPaper:{width:300,background:"#202020",borderRight:"1px solid rgba(255, 255, 255, 0.05)"}})),An=()=>{const e=xe(),n=I();P();const{docId:s}=tt(),[o,c]=l.exports.useState(null),{sidebarIsOpen:m,openSidebar:i}=Ce();l.exports.useEffect(()=>{i(),N.get(M.define.doc).then(u=>n.setDocs(u.data)),N.get(M.define.note).then(u=>n.setNotes(u.data))},[]),l.exports.useEffect(()=>{if(s&&n.hasFirstLoaded){const u=Number(s),f=n.docs.find(g=>g.id===u);if(!f){e.push(_.define.index);return}c(u),document.title=f.title}else c(null)},[s,n.docs]),l.exports.useEffect(()=>{var u;if(!s&&((u=n.docs)==null?void 0:u.length)>0){const g=n.docs.sort((h,p)=>h.lastOpenedAt===void 0?-1:p.lastOpenedAt===void 0?1:h.lastOpenedAt>p.lastOpenedAt?-1:1)[0].id;e.push(_.define.docId(g))}},[n.docs,s]);const d=Cn();return t(S,{p:3,children:a(te,{height:"100%",children:[t(bn,{selectedDocId:o}),t(S,{className:Fe(d.content,{[d.contentShift]:m}),flexGrow:1,children:n.hasFirstLoaded?t(H.Fragment,{children:o&&t(on,{docId:o})}):t(nt,{})})]})})},Cn=k(e=>({content:{flexGrow:1,transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:300}}));export{An as default};
